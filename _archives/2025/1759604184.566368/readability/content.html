<meta charset="UTF-8">
<div id="readability-page-1" class="page"><pre>{"version":3,"file":"sendFedopsLoadStarted.inline.1c036eb1.bundle.min.js","mappings":"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","sources":["webpack:///../../thunderbolt-environment/src/bi-module/isBot.ts","webpack:///../../thunderbolt-environment/src/bi-module/cachingData.ts","webpack:///../../thunderbolt-environment/src/bi-module/uuidv4.ts","webpack:///../../thunderbolt-environment/src/bi-module/isIOS.ts","webpack:///../../thunderbolt-environment/src/bi-module/sendBeacon.ts","webpack:///./fedops/sendFedopsLoadStarted.ts","webpack:///../../thunderbolt-environment/src/bi-module/isIFrame.ts","webpack:///../../thunderbolt-environment/src/bi-module/isSuspectedBot.ts"],"sourcesContent":["export const isBot = (window: Window): '' | 'ua' =&gt; {\n\tconst { userAgent } = window.navigator\n\n\tif (/instagram.+google\\/google/i.test(userAgent)) {\n\t\treturn ''\n\t}\n\n\treturn /bot|google(?!play)|phantom|crawl|spider|headless|slurp|facebookexternal|Lighthouse|PTST|^mozilla\\/4\\.0$|^\\s*$/i.test(\n\t\tuserAgent\n\t)\n\t\t? 'ua'\n\t\t: ''\n}\n","import type { CachingInfo } from '@wix/thunderbolt-symbols'\n\nexport type TimingEntry = { name: string; description: string }\n\nexport interface ServerTimingData {\n\tcache?: string\n\tvarnish?: string\n\tmicroPop?: string\n}\n\ninterface CacheValues {\n\tcache: string\n\tvarnish: string\n\tmicroPop?: string\n}\n\nconst UNKNOWN_VALUE = 'unknown'\nconst CACHE_SEPARATOR = ','\n\nconst extractServerTiming = (getTimingEntries: () =&gt; Array&lt;TimingEntry&gt;): ServerTimingData =&gt; {\n\tlet serverTiming: Array&lt;TimingEntry&gt;\n\ttry {\n\t\tserverTiming = getTimingEntries()\n\t} catch (e) {\n\t\tserverTiming = []\n\t}\n\n\tconst timingMap = serverTiming.reduce((acc, entry) =&gt; {\n\t\tacc[entry.name] = entry.description\n\t\treturn acc\n\t}, {} as Record&lt;string, string&gt;)\n\n\treturn {\n\t\tcache: timingMap['cache'],\n\t\tvarnish: timingMap['varnish'],\n\t\tmicroPop: timingMap['dc'] // 'dc' maps to microPop\n\t}\n}\n\nconst formatCachingString = (cache: string, varnish: string): string =&gt; {\n\treturn `${cache || UNKNOWN_VALUE}${CACHE_SEPARATOR}${varnish || UNKNOWN_VALUE}`\n}\n\nconst parseCookieCacheData = (cookie: string): CacheValues | null =&gt; {\n\tconst match = cookie.match(\n\t\t/ssr-caching=\"?cache[,#]\\s*desc=([\\w-]+)(?:[,#]\\s*varnish=(\\w+))?(?:[,#]\\s*dc[,#]\\s*desc=([\\w-]+))?(?:\"|;|$)/\n\t)\n\n\tif (!match || !match.length) {\n\t\treturn null\n\t}\n\n\treturn {\n\t\tcache: match[1],\n\t\tvarnish: match[2] || UNKNOWN_VALUE,\n\t\tmicroPop: match[3]\n\t}\n}\n\nconst createCachingInfo = (values: CacheValues): CachingInfo =&gt; {\n\tconst caching = formatCachingString(values.cache, values.varnish)\n\treturn {\n\t\tcaching,\n\t\tisCached: caching.includes('hit'),\n\t\t...(values.microPop ? { microPop: values.microPop } : {})\n\t}\n}\n\nexport const extractCachingData = (cookie: string, getTimingEntries: () =&gt; Array&lt;TimingEntry&gt;): CachingInfo =&gt; {\n\t// Try server-timing first if available\n\tconst serverTimingData = extractServerTiming(getTimingEntries)\n\tif (serverTimingData.cache || serverTimingData.varnish) {\n\t\treturn createCachingInfo({\n\t\t\tcache: serverTimingData.cache || UNKNOWN_VALUE,\n\t\t\tvarnish: serverTimingData.varnish || UNKNOWN_VALUE,\n\t\t\tmicroPop: serverTimingData.microPop\n\t\t})\n\t}\n\n\t// Fallback to cookie parsing\n\tconst cookieData = parseCookieCacheData(cookie)\n\tif (cookieData) {\n\t\treturn createCachingInfo(cookieData)\n\t}\n\n\t// Return default when no data available\n\treturn {\n\t\tcaching: UNKNOWN_VALUE,\n\t\tisCached: false\n\t}\n}\n","export function uuidv4() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) =&gt; {\n\t\tconst r = (Math.random() * 16) | 0,\n\t\t\tv = c === 'x' ? r : (r &amp; 0x3) | 0x8\n\t\treturn v.toString(16)\n\t})\n}\n","export const isIOS = (): boolean =&gt; /\\(iP(hone|ad|od);/i.test(window?.navigator?.userAgent)\n","import { isIOS } from './isIOS'\n\nexport const sendBeacon = (url: string): void =&gt; {\n\tlet sent = false\n\n\tif (!isIOS()) {\n\t\ttry {\n\t\t\tsent = navigator.sendBeacon(url)\n\t\t} catch (e) {\n\t\t// TODO handle thrown error\n\t\t}\n\t}\n\tif (!sent) {\n\t\tnew Image().src = url\n\t}\n}\n","// THESE FILES ARE HERE ONLY AS REFERENCE AND ARE NOT BEING USED FOR ANYTHING\n// THEY'RE REFERENCE FOR `main-head.ejs` script tag called `fedopsLoadStarted`\n// WHICH IS COMPILED TO ES AND MINIFIED VERSION OF THIS FILE.\nimport { isBot, sendBeacon, isSuspectedBot, isIFrame, extractCachingData, uuidv4 } from '@wix/thunderbolt-environment'\n\n;(function () {\n\tconst { site, rollout, fleetConfig, requestUrl, isInSEO, shouldReportErrorOnlyInPanorama } = window.fedops.data\n\tconst btype = isBot(window) || isIFrame() || isSuspectedBot() || (isInSEO ? 'seo' : '')\n\tconst ish = !!btype\n\tconst { isCached, caching, microPop } = extractCachingData(\n\t\tdocument.cookie,\n\t\t() =&gt; performance.getEntriesByType('navigation')[0].serverTiming || []\n\t)\n\tconst types = {\n\t\tWixSite: 1,\n\t\tUGC: 2,\n\t\tTemplate: 3,\n\t}\n\tconst st = types[site.siteType] || 0\n\tconst fedOpsAppName = site.appNameForBiEvents\n\tconst { isDACRollout, siteAssetsVersionsRollout } = rollout\n\tconst is_dac_rollout = isDACRollout ? 1 : 0\n\tconst is_sav_rollout = siteAssetsVersionsRollout ? 1 : 0\n\tconst is_rollout = fleetConfig.code === 0 || fleetConfig.code === 1 ? fleetConfig.code : null\n\tconst is_company_network = fleetConfig.code === 2 ? true : false\n\tconst ts = Date.now() - window.initialTimestamps.initialTimestamp\n\tconst tsn = Math.round(performance.now()) // client only\n\tconst { visibilityState } = document\n\tconst pageVisibilty = visibilityState\n\tconst { fedops, addEventListener, thunderboltVersion } = window\n\tfedops.apps = fedops.apps || {}\n\tfedops.apps[fedOpsAppName] = { startLoadTime: tsn }\n\tfedops.sessionId = site.sessionId\n\tfedops.vsi = uuidv4()\n\tfedops.is_cached = isCached\n\tfedops.phaseStarted = reportPhase(28)\n\tfedops.phaseEnded = reportPhase(22)\n\n\tperformance.mark('[cache] ' + caching + (microPop ? ' [' + microPop + ']' : ''))\n\n\tfedops.reportError = (error: any, errorType: string = 'load') =&gt; {\n\t\tconst info = error?.reason || error?.message\n\t\tif (info) {\n\t\t\tif (!shouldReportErrorOnlyInPanorama) {\n\t\t\t\tsendBI(26, `&amp;errorInfo=${info}&amp;errorType=${errorType}`)\n\t\t\t}\n\t\t\tsendPanorama({\n\t\t\t\terror: {\n\t\t\t\t\tname: errorType,\n\t\t\t\t\tmessage: info,\n\t\t\t\t\tstack: error?.stack!,\n\t\t\t\t},\n\t\t\t})\n\t\t} else {\n\t\t\terror.preventDefault()\n\t\t}\n\t}\n\taddEventListener('error', fedops.reportError)\n\taddEventListener('unhandledrejection', fedops.reportError)\n\n\tlet bfcache = false\n\taddEventListener(\n\t\t'pageshow',\n\t\t({ persisted }) =&gt; {\n\t\t\tif (persisted) {\n\t\t\t\tif (!bfcache) {\n\t\t\t\t\tbfcache = true\n\t\t\t\t\tfedops.is_cached = true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttrue\n\t)\n\n\tfunction sendBI(evid: number, extra = '') {\n\t\tif (requestUrl.includes('suppressbi=true')) {\n\t\t\treturn\n\t\t}\n\t\tconst url =\n\t\t\t'//frog.wix.com/bolt-performance?src=72&amp;evid=' +\n\t\t\tevid +\n\t\t\t'&amp;appName=' +\n\t\t\tfedOpsAppName +\n\t\t\t'&amp;is_rollout=' +\n\t\t\tis_rollout +\n\t\t\t'&amp;is_company_network=' +\n\t\t\tis_company_network +\n\t\t\t'&amp;is_sav_rollout=' +\n\t\t\tis_sav_rollout +\n\t\t\t'&amp;is_dac_rollout=' +\n\t\t\tis_dac_rollout +\n\t\t\t'&amp;dc=' +\n\t\t\tsite.dc +\n\t\t\t(microPop ? '&amp;microPop=' + microPop : '') +\n\t\t\t'&amp;is_cached=' +\n\t\t\tisCached +\n\t\t\t'&amp;msid=' +\n\t\t\tsite.metaSiteId +\n\t\t\t'&amp;session_id=' +\n\t\t\twindow.fedops.sessionId +\n\t\t\t'&amp;ish=' +\n\t\t\tish +\n\t\t\t'&amp;isb=' +\n\t\t\tish +\n\t\t\t(ish ? '&amp;isbr=' + btype : '') +\n\t\t\t'&amp;vsi=' +\n\t\t\twindow.fedops.vsi +\n\t\t\t'&amp;caching=' +\n\t\t\tcaching +\n\t\t\t(bfcache ? ',browser_cache' : '') +\n\t\t\t'&amp;pv=' +\n\t\t\tpageVisibilty +\n\t\t\t'&amp;pn=1' +\n\t\t\t'&amp;v=' +\n\t\t\tthunderboltVersion +\n\t\t\t'&amp;url=' +\n\t\t\tencodeURIComponent(requestUrl) +\n\t\t\t'&amp;st=' +\n\t\t\tst +\n\t\t\t`&amp;ts=${ts}&amp;tsn=${tsn}` +\n\t\t\textra\n\t\tsendBeacon(url)\n\t}\n\n\tfunction sendPanorama({\n\t\ttransaction,\n\t\terror,\n\t}: {\n\t\ttransaction?: {\n\t\t\tname: string\n\t\t}\n\t\terror?: {\n\t\t\tname: string\n\t\t\tmessage: string\n\t\t\tstack: string\n\t\t}\n\t}) {\n\t\tconst payload = [\n\t\t\t{\n\t\t\t\tfullArtifactId: 'com.wixpress.html-client.wix-thunderbolt',\n\t\t\t\tcomponentId: `${\n\t\t\t\t\twindow.fedops.data.site.editorName === 'Studio'\n\t\t\t\t\t\t? 'wix-studio'\n\t\t\t\t\t\t: `thunderbolt${window.fedops.data.site.isResponsive ? '-responsive' : ''}`\n\t\t\t\t}`,\n\t\t\t\tplatform: 'viewer',\n\t\t\t\tmsid: window.fedops.data.site.metaSiteId,\n\t\t\t\tsessionId: window.fedops.vsi,\n\t\t\t\tsessionTime: Date.now() - window.initialTimestamps.initialTimestamp,\n\t\t\t\tlogLevel: error ? 'ERROR' : 'INFO',\n\t\t\t\tmessage: error?.message ?? (transaction?.name &amp;&amp; `${transaction.name} START`),\n\t\t\t\terrorName: error?.name,\n\t\t\t\terrorStack: error?.stack,\n\t\t\t\ttransactionName: transaction?.name,\n\t\t\t\ttransactionAction: transaction &amp;&amp; 'START',\n\t\t\t\tisSsr: false,\n\t\t\t\tdataCenter: site.dc,\n\t\t\t\tisCached: !!isCached,\n\t\t\t\tisRollout: !!is_rollout,\n\t\t\t\tisHeadless: !!ish,\n\t\t\t\tisDacRollout: !!is_dac_rollout,\n\t\t\t\tisSavRollout: !!is_sav_rollout,\n\t\t\t\tisCompanyNetwork: !!is_company_network,\n\t\t\t},\n\t\t]\n\t\ttry {\n\t\t\tconst body = JSON.stringify({ messages: payload })\n\t\t\treturn navigator.sendBeacon('https://panorama.wixapps.net/api/v1/bulklog', body)\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\tfunction reportPhase(evid: number) {\n\t\treturn (phase: string, extra?: { paramsOverrides?: { [key: string]: string } }) =&gt; {\n\t\t\tconst duration = Date.now() - ts\n\t\t\tconst baseParams = `&amp;name=${phase}&amp;duration=${duration}`\n\t\t\tconst extraParams =\n\t\t\t\textra &amp;&amp; extra.paramsOverrides\n\t\t\t\t\t? Object.keys(extra.paramsOverrides)\n\t\t\t\t\t// @ts-ignore ts does not recognize the if before\n\t\t\t\t\t\t.map((key) =&gt; key + '=' + extra.paramsOverrides[key])\n\t\t\t\t\t\t.join('&amp;')\n\t\t\t\t\t: ''\n\t\t\tsendBI(evid, extraParams ? `${baseParams}&amp;${extraParams}` : baseParams)\n\t\t}\n\t}\n\n\t/* We don't want to send BI in deprecation flow */\n\tif (window.__browser_deprecation__) {\n\t\treturn\n\t}\n\n\tconst documentReferrerParam = document.referrer ? `&amp;document_referrer=${document.referrer}` : ''\n\tconst isMpa = window.sessionStorage.getItem('isMpa')\n\tconst isMpaParam = isMpa ? `&amp;isMpa=${isMpa}` : ''\n\tif (isMpa) {\n\t\twindow.sessionStorage.removeItem('isMpa')\n\t}\n\n\tlet mpaSessionId = window.sessionStorage.getItem('mpaSessionId')\n\tif (!mpaSessionId) {\n\t\tmpaSessionId = uuidv4()\n\t\twindow.sessionStorage.setItem('mpaSessionId', mpaSessionId)\n\t}\n\twindow.fedops.mpaSessionId = mpaSessionId\n\n\tsendBI(\n\t\t21,\n\t\t`&amp;platformOnSite=${window.fedops.data.platformOnSite}&amp;mpaSessionId=${mpaSessionId}${documentReferrerParam}${isMpaParam}`\n\t)\n\n\tsendPanorama({\n\t\ttransaction: {\n\t\t\tname: 'PANORAMA_COMPONENT_LOAD',\n\t\t},\n\t})\n})()\n","export const isIFrame = (): '' | 'iframe' =&gt; {\n\ttry {\n\t\tif (window.self === window.top) {\n\t\t\treturn ''\n\t\t}\n\t} catch (e) {\n\t\t// empty\n\t}\n\treturn 'iframe'\n}\n","export const isSuspectedBot = () =&gt; {\n\tif (!Function.prototype.bind) {\n\t\treturn 'bind'\n\t}\n\n\tconst { document, navigator } = window\n\tif (!document || !navigator) {\n\t\treturn 'document'\n\t}\n\tconst { webdriver, userAgent, plugins, languages } = navigator\n\tif (webdriver) {\n\t\treturn 'webdriver'\n\t}\n\n\tif (!plugins || Array.isArray(plugins)) {\n\t\treturn 'plugins'\n\t}\n\t// Because of https://www.npmjs.com/package/puppeteer-extra-plugin-stealth\n\tif (Object.getOwnPropertyDescriptor(plugins, '0')?.writable) {\n\t\treturn 'plugins-extra'\n\t}\n\n\tif (!userAgent) {\n\t\treturn 'userAgent'\n\t}\n\tif (userAgent.indexOf('Snapchat') &gt; 0 &amp;&amp; document.hidden) {\n\t\treturn 'Snapchat'\n\t}\n\n\tif (!languages || languages.length === 0 || !Object.isFrozen(languages)) {\n\t\treturn 'languages'\n\t}\n\n\ttry {\n\t\t// @ts-ignore\n\t\tthrow Error()\n\t} catch (err) {\n\t\tif (err instanceof Error) {\n\t\t\tconst { stack } = err\n\t\t\tif (stack &amp;&amp; / (\\(internal\\/)|(\\(?file:\\/)/.test(stack)) {\n\t\t\t\treturn 'stack'\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ''\n}\n"],"names":["UNKNOWN_VALUE","createCachingInfo","values","caching","cache","varnish","isCached","includes","microPop","extractCachingData","cookie","getTimingEntries","serverTimingData","serverTiming","e","timingMap","reduce","acc","entry","name","description","extractServerTiming","cookieData","match","length","parseCookieCacheData","uuidv4","replace","c","r","Math","random","toString","sendBeacon","url","sent","test","window","navigator","userAgent","Image","src","site","rollout","fleetConfig","requestUrl","isInSEO","shouldReportErrorOnlyInPanorama","fedops","data","btype","isBot","self","top","isIFrame","Function","prototype","bind","document","webdriver","plugins","languages","Array","isArray","Object","getOwnPropertyDescriptor","writable","indexOf","hidden","isFrozen","Error","err","stack","isSuspectedBot","ish","performance","getEntriesByType","st","WixSite","UGC","Template","siteType","fedOpsAppName","appNameForBiEvents","isDACRollout","siteAssetsVersionsRollout","is_dac_rollout","is_sav_rollout","is_rollout","code","is_company_network","ts","Date","now","initialTimestamps","initialTimestamp","tsn","round","visibilityState","pageVisibilty","addEventListener","thunderboltVersion","apps","startLoadTime","sessionId","vsi","is_cached","phaseStarted","reportPhase","phaseEnded","mark","reportError","error","errorType","info","reason","message","sendBI","sendPanorama","preventDefault","bfcache","evid","extra","dc","metaSiteId","encodeURIComponent","transaction","payload","fullArtifactId","componentId","editorName","isResponsive","platform","msid","sessionTime","logLevel","errorName","errorStack","transactionName","transactionAction","isSsr","dataCenter","isRollout","isHeadless","isDacRollout","isSavRollout","isCompanyNetwork","body","JSON","stringify","messages","console","phase","baseParams","extraParams","paramsOverrides","keys","map","key","join","persisted","__browser_deprecation__","documentReferrerParam","referrer","isMpa","sessionStorage","getItem","isMpaParam","removeItem","mpaSessionId","setItem","platformOnSite"],"sourceRoot":""}</pre>
</div>